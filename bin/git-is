#!/bin/sh

case $1 in

  'inside-tree')
    [[ `git rev-parse --is-inside-work-tree` == 'true' ]] > /dev/null 2>&1 ;;

  'dirty')
    ! git diff --cached --exit-code > /dev/null 2>&1 ;;

  *)
    exit 1 ;;

esac
